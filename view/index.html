<!DOCTYPE html>
<html>
  <head>
    <title>Exercise Tracker</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="/css/bootstrap.min.css" rel="stylesheet" />
    <script src="/js/jquery.js"></script>
    <script src="/js/bootstrap.min.js"></script>
  </head>

  <body>
    <div class="d-flex flex-column align-items-center">
        <h1 class="mt-3 mb-3">Exercise tracker</h1>

        <form action="/api/users" method="post" class="mt-4">
          <div class="d-flex flex-column align-items-center">
            <h4>Create a new user</h4>
              <input
                id="uname"
                type="text"
                name="username"
                placeholder="username"
              />
            <div class="col text-center">
              <input class="btn btn-dark mt-2 mb-2" type="submit" value="Create" />
            </div>
          </div>
        </form>
        <form id="add_exercise" method="post" class="mt-4">

          <div class="d-flex flex-column align-items-center">
            <h4>Add new exercise</h4>
              <input
                id="user_id"
                type="text"
                name="user_id"
                placeholder="user id"
              />
              <input
                id="desc"
                type="text"
                name="description"
                placeholder="description"
              />
              <input
                id="dur"
                type="text"
                name="duration"
                placeholder="duration in mins"
              />
              <input
                id="date"
                type="text"
                name="date"
                placeholder="yyyy-mm-dd (optional)"
              />
              <input class="btn btn-dark mt-2" type="submit" value="Add" />
            </div>
        </form>

        <div class="d-flex flex-column align-items-center mt-5">
          <strong>GET users info:</strong>
          <p class="mt-2">
            <code>/api/users/</code>
          </p>
        </div>

        <div class="d-flex flex-column align-items-center mt-4">
          <strong>GET user's exercises: </strong>
          <p class="mt-2">
            <code>/api/users/[user_id]/logs?from=(start_date)&to=(end_date)&limit=(number)</code>
          </p>
          <p>Parameters after "<strong>?</strong>" are optional.</p>
        </div>
      </div>
    </div>

    <script>
      const exercise = document.getElementById("add_exercise");
      exercise.addEventListener("submit", () => {
        const userId = document.getElementById("user_id").value;
        exercise.action = "/api/users/" + userId + "/exercises";
        exercise.submit();
      });
    </script>
  </body>
</html>
